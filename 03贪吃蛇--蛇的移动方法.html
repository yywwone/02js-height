<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#map {
				width: 800px;
				height: 600px;
				position: relative;
				background-color: #ccc;
				margin: 10px auto;
			}
		</style>
		
	</head>
	<body>
		<div id="map"></div>
	</body>
	<script src="food.js"></script>
	<script src="snake.js"></script>
	<script type="text/javascript">
		
			
			/*把蛇和食物以及map对象 分别实现具体代码
			把整体的游戏抽象成一个对象  让蛇和食物以及map统一到游戏对象下面 统一由游戏对象支配
			
				游戏对象：
					属性：食物 蛇  map
					方法：开始游戏的方法  （统一调用食物渲染 和蛇的渲染 以及其他的方法）
					
				new Game();
				Game.start();
			* 
			* 
			* 
			* */
			(function(window,Food,Snake){
				
				// 游戏构造函数
				function Game(map) {
					// 分别把之前写法的食物对象和蛇对象 实例化之后挂载到当前构造函数的属性下面
					// map也加过来
					this.Food = new Food(); // this.Food.render();
					this.Snake = new Snake();
					this.map = map;
				}
				Game.prototype.start = function() {
					
					this.Food.render(this.map);
					this.Snake.render(this.map);
					
				}
				
				// 暴露出去Game构造函数
				window.Game = Game;
				
			})(window,Food,Snake);
		
			
	</script>
	<script type="text/javascript">
		var oMap = document.getElementById("map");
		
		
		var game = new Game(oMap);
		game.start();
	</script>
</html>
